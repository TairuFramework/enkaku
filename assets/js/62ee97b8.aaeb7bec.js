"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["934"],{6230:function(e,n,r){r.r(n),r.d(n,{metadata:()=>s,contentTitle:()=>i,default:()=>h,assets:()=>a,toc:()=>t,frontMatter:()=>c});var s=JSON.parse('{"id":"api/server/index","title":"@enkaku/server","description":"Server logic for Enkaku RPC.","source":"@site/docs/api/server/index.md","sourceDirName":"api/server","slug":"/api/server/","permalink":"/docs/api/server/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apis","previous":{"title":"@enkaku/client","permalink":"/docs/api/client/"},"next":{"title":"@enkaku/standalone","permalink":"/docs/api/standalone/"}}'),d=r("651"),l=r("8769");let c={},i="@enkaku/server",a={},t=[{value:"Installation",id:"installation",level:2},{value:"Type Aliases",id:"type-aliases",level:2},{value:"ChannelHandler()&lt;Command, Params, Sent, Receive, Result&gt;",id:"channelhandlercommand-params-sent-receive-result",level:3},{value:"Type Parameters",id:"type-parameters",level:4},{value:"Parameters",id:"parameters",level:4},{value:"context",id:"context",level:5},{value:"Returns",id:"returns",level:4},{value:"ChannelHandlerContext&lt;Command, Params, Sent, Receive&gt;",id:"channelhandlercontextcommand-params-sent-receive",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"readable",id:"readable",level:5},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"CommandAccessRecord",id:"commandaccessrecord",level:3},{value:"CommandHandlers&lt;Definitions&gt;",id:"commandhandlersdefinitions",level:3},{value:"Type Parameters",id:"type-parameters-2",level:4},{value:"EventHandler()&lt;Command, Data&gt;",id:"eventhandlercommand-data",level:3},{value:"Type Parameters",id:"type-parameters-3",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"context",id:"context-1",level:5},{value:"Returns",id:"returns-1",level:4},{value:"EventHandlerContext&lt;Command, Data&gt;",id:"eventhandlercontextcommand-data",level:3},{value:"Type Parameters",id:"type-parameters-4",level:4},{value:"Type declaration",id:"type-declaration-1",level:4},{value:"data",id:"data",level:5},{value:"message",id:"message",level:5},{value:"HandlerReturn&lt;Result&gt;",id:"handlerreturnresult",level:3},{value:"Type Parameters",id:"type-parameters-5",level:4},{value:"RejectionType&lt;Reason, Info&gt;",id:"rejectiontypereason-info",level:3},{value:"Type Parameters",id:"type-parameters-6",level:4},{value:"Type declaration",id:"type-declaration-2",level:4},{value:"info",id:"info",level:5},{value:"reason",id:"reason",level:5},{value:"RequestHandler()&lt;Command, Params, Result&gt;",id:"requesthandlercommand-params-result",level:3},{value:"Type Parameters",id:"type-parameters-7",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"context",id:"context-2",level:5},{value:"Returns",id:"returns-2",level:4},{value:"RequestHandlerContext&lt;Type, Command, Params&gt;",id:"requesthandlercontexttype-command-params",level:3},{value:"Type Parameters",id:"type-parameters-8",level:4},{value:"Type declaration",id:"type-declaration-3",level:4},{value:"message",id:"message-1",level:5},{value:"params",id:"params",level:5},{value:"signal",id:"signal",level:5},{value:"ServeParams&lt;Definitions&gt;",id:"serveparamsdefinitions",level:3},{value:"Type declaration",id:"type-declaration-4",level:4},{value:"handlers",id:"handlers",level:5},{value:"signal?",id:"signal-1",level:5},{value:"transport",id:"transport",level:5},{value:"Type Parameters",id:"type-parameters-9",level:4},{value:"Server",id:"server",level:3},{value:"Type declaration",id:"type-declaration-5",level:4},{value:"rejections",id:"rejections",level:5},{value:"StreamHandler()&lt;Command, Params, Receive, Result&gt;",id:"streamhandlercommand-params-receive-result",level:3},{value:"Type Parameters",id:"type-parameters-10",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"context",id:"context-3",level:5},{value:"Returns",id:"returns-3",level:4},{value:"StreamHandlerContext&lt;Type, Command, Params, Receive&gt;",id:"streamhandlercontexttype-command-params-receive",level:3},{value:"Type declaration",id:"type-declaration-6",level:4},{value:"writable",id:"writable",level:5},{value:"Type Parameters",id:"type-parameters-11",level:4},{value:"Functions",id:"functions",level:2},{value:"serve()",id:"serve",level:3},{value:"Type Parameters",id:"type-parameters-12",level:4},{value:"Parameters",id:"parameters-4",level:4},{value:"params",id:"params-1",level:5},{value:"Returns",id:"returns-4",level:4}];function o(e){let n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,l.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"enkakuserver",children:"@enkaku/server"})}),"\n",(0,d.jsx)(n.p,{children:"Server logic for Enkaku RPC."}),"\n",(0,d.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sh",children:"npm install @enkaku/server\n"})}),"\n",(0,d.jsx)(n.h2,{id:"type-aliases",children:"Type Aliases"}),"\n",(0,d.jsx)(n.h3,{id:"channelhandlercommand-params-sent-receive-result",children:"ChannelHandler()<Command, Params, Sent, Receive, Result>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"ChannelHandler"}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Sent"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),", ",(0,d.jsx)(n.code,{children:"Result"}),">: (",(0,d.jsx)(n.code,{children:"context"}),") => ",(0,d.jsx)(n.a,{href:"/docs/api/server/#handlerreturnresult",children:(0,d.jsx)(n.code,{children:"HandlerReturn"})}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Params"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Sent"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Receive"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Result"})]}),"\n",(0,d.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,d.jsx)(n.h5,{id:"context",children:"context"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#channelhandlercontextcommand-params-sent-receive",children:(0,d.jsx)(n.code,{children:"ChannelHandlerContext"})}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Sent"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),">"]}),"\n",(0,d.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#handlerreturnresult",children:(0,d.jsx)(n.code,{children:"HandlerReturn"})}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"channelhandlercontextcommand-params-sent-receive",children:"ChannelHandlerContext<Command, Params, Sent, Receive>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"ChannelHandlerContext"}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Sent"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),">: ",(0,d.jsx)(n.a,{href:"/docs/api/server/#streamhandlercontexttype-command-params-receive",children:(0,d.jsx)(n.code,{children:"StreamHandlerContext"})}),"<",(0,d.jsx)(n.code,{children:'"channel"'}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),"> & ",(0,d.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"readable",children:"readable"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"readable"}),": ",(0,d.jsx)(n.code,{children:"ReadableStream"}),"<",(0,d.jsx)(n.code,{children:"Sent"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Params"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Sent"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Receive"})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"commandaccessrecord",children:"CommandAccessRecord"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"CommandAccessRecord"}),": ",(0,d.jsx)(n.code,{children:"Record"}),"<",(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"boolean"})," | ",(0,d.jsx)(n.code,{children:"string"}),"[]>"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"commandhandlersdefinitions",children:"CommandHandlers<Definitions>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"CommandHandlers"}),"<",(0,d.jsx)(n.code,{children:"Definitions"}),">: ",(0,d.jsx)(n.code,{children:'{ [Command in keyof Definitions & string]: Definitions[Command] extends EventDefinition<infer Data> ? (context: EventHandlerContext<Command, Data>) => void : Definitions[Command] extends RequestDefinition<infer Params, infer Result> ? (context: RequestHandlerContext<"request", Command, Params>) => HandlerReturn<Result> : Definitions[Command] extends StreamDefinition<infer Params, infer Receive, infer Result> ? (context: StreamHandlerContext<"stream", Command, Params, Receive>) => HandlerReturn<Result> : Definitions[Command] extends ChannelDefinition<infer Params, infer Send, infer Receive, infer Result> ? (context: ChannelHandlerContext<Command, Params, Send, Receive>) => HandlerReturn<Result> : never }'})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-2",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Definitions"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#anydefinitionscommands",children:(0,d.jsx)(n.code,{children:"AnyDefinitions"})})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"eventhandlercommand-data",children:"EventHandler()<Command, Data>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"EventHandler"}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Data"}),">: (",(0,d.jsx)(n.code,{children:"context"}),") => ",(0,d.jsx)(n.code,{children:"void"})," | ",(0,d.jsx)(n.code,{children:"Promise"}),"<",(0,d.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-3",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Data"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"Record"}),"<",(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"unknown"}),"> | ",(0,d.jsx)(n.code,{children:"undefined"})]}),"\n",(0,d.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,d.jsx)(n.h5,{id:"context-1",children:"context"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#eventhandlercontextcommand-data",children:(0,d.jsx)(n.code,{children:"EventHandlerContext"})}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Data"}),">"]}),"\n",(0,d.jsx)(n.h4,{id:"returns-1",children:"Returns"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"void"})," | ",(0,d.jsx)(n.code,{children:"Promise"}),"<",(0,d.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"eventhandlercontextcommand-data",children:"EventHandlerContext<Command, Data>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"EventHandlerContext"}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Data"}),">: ",(0,d.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-4",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Data"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"Record"}),"<",(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"unknown"}),"> | ",(0,d.jsx)(n.code,{children:"undefined"})]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration-1",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"data",children:"data"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"data"}),": ",(0,d.jsx)(n.code,{children:"Data"})]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"message",children:"message"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"message"}),": ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#messagepayload",children:(0,d.jsx)(n.code,{children:"Message"})}),"<",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#eventcallpayloadcommand-data",children:(0,d.jsx)(n.code,{children:"EventCallPayload"})}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Data"}),">>"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"handlerreturnresult",children:"HandlerReturn<Result>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"HandlerReturn"}),"<",(0,d.jsx)(n.code,{children:"Result"}),">: ",(0,d.jsx)(n.code,{children:"Result"})," | ",(0,d.jsx)(n.code,{children:"Promise"}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-5",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Result"})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"rejectiontypereason-info",children:"RejectionType<Reason, Info>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"RejectionType"}),"<",(0,d.jsx)(n.code,{children:"Reason"}),", ",(0,d.jsx)(n.code,{children:"Info"}),">: ",(0,d.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-6",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Reason"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"RejectionReason"})," = ",(0,d.jsx)(n.code,{children:"RejectionReason"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Info"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"Record"}),"<",(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"unknown"}),"> = ",(0,d.jsx)(n.code,{children:"Record"}),"<",(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"unknown"}),">"]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration-2",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"info",children:"info"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"readonly"})," ",(0,d.jsx)(n.strong,{children:"info"}),": ",(0,d.jsx)(n.code,{children:"Info"})]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"reason",children:"reason"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"readonly"})," ",(0,d.jsx)(n.strong,{children:"reason"}),": ",(0,d.jsx)(n.code,{children:"Reason"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"requesthandlercommand-params-result",children:"RequestHandler()<Command, Params, Result>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"RequestHandler"}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Result"}),">: (",(0,d.jsx)(n.code,{children:"context"}),") => ",(0,d.jsx)(n.a,{href:"/docs/api/server/#handlerreturnresult",children:(0,d.jsx)(n.code,{children:"HandlerReturn"})}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-7",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Params"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Result"})]}),"\n",(0,d.jsx)(n.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,d.jsx)(n.h5,{id:"context-2",children:"context"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#requesthandlercontexttype-command-params",children:(0,d.jsx)(n.code,{children:"RequestHandlerContext"})}),"<",(0,d.jsx)(n.code,{children:'"request"'}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),">"]}),"\n",(0,d.jsx)(n.h4,{id:"returns-2",children:"Returns"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#handlerreturnresult",children:(0,d.jsx)(n.code,{children:"HandlerReturn"})}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"requesthandlercontexttype-command-params",children:"RequestHandlerContext<Type, Command, Params>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"RequestHandlerContext"}),"<",(0,d.jsx)(n.code,{children:"Type"}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),">: ",(0,d.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-8",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Type"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#requesttype",children:(0,d.jsx)(n.code,{children:"RequestType"})})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Params"})]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration-3",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"message-1",children:"message"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"message"}),": ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#messagepayload",children:(0,d.jsx)(n.code,{children:"Message"})}),"<",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#requestcallpayloadtype-command-params",children:(0,d.jsx)(n.code,{children:"RequestCallPayload"})}),"<",(0,d.jsx)(n.code,{children:"Type"}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),">>"]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"params",children:"params"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"params"}),": ",(0,d.jsx)(n.code,{children:"Params"})]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"signal",children:"signal"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"signal"}),": ",(0,d.jsx)(n.code,{children:"AbortSignal"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"serveparamsdefinitions",children:"ServeParams<Definitions>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"ServeParams"}),"<",(0,d.jsx)(n.code,{children:"Definitions"}),">: ",(0,d.jsx)(n.code,{children:"object"})," & {",(0,d.jsx)(n.code,{children:"insecure"}),": ",(0,d.jsx)(n.code,{children:"true"}),"; } | {",(0,d.jsx)(n.code,{children:"access"}),": ",(0,d.jsx)(n.a,{href:"/docs/api/server/#commandaccessrecord",children:(0,d.jsx)(n.code,{children:"CommandAccessRecord"})}),";",(0,d.jsx)(n.code,{children:"id"}),": ",(0,d.jsx)(n.code,{children:"string"}),";",(0,d.jsx)(n.code,{children:"insecure"}),": ",(0,d.jsx)(n.code,{children:"false"}),"; }"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration-4",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"handlers",children:"handlers"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"handlers"}),": ",(0,d.jsx)(n.a,{href:"/docs/api/server/#commandhandlersdefinitions",children:(0,d.jsx)(n.code,{children:"CommandHandlers"})}),"<",(0,d.jsx)(n.code,{children:"Definitions"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"signal-1",children:"signal?"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"optional"})," ",(0,d.jsx)(n.strong,{children:"signal"}),": ",(0,d.jsx)(n.code,{children:"AbortSignal"})]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"transport",children:"transport"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"transport"}),": ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#servertransportofdefinitions",children:(0,d.jsx)(n.code,{children:"ServerTransportOf"})}),"<",(0,d.jsx)(n.code,{children:"Definitions"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-9",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Definitions"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#anydefinitionscommands",children:(0,d.jsx)(n.code,{children:"AnyDefinitions"})})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"server",children:"Server"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Server"}),": ",(0,d.jsx)(n.a,{href:"/docs/api/util/#disposer",children:(0,d.jsx)(n.code,{children:"Disposer"})})," & ",(0,d.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration-5",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"rejections",children:"rejections"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"rejections"}),": ",(0,d.jsx)(n.code,{children:"ReadableStream"}),"<",(0,d.jsx)(n.a,{href:"/docs/api/server/#rejectiontypereason-info",children:(0,d.jsx)(n.code,{children:"RejectionType"})}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"streamhandlercommand-params-receive-result",children:"StreamHandler()<Command, Params, Receive, Result>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"StreamHandler"}),"<",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),", ",(0,d.jsx)(n.code,{children:"Result"}),">: (",(0,d.jsx)(n.code,{children:"context"}),") => ",(0,d.jsx)(n.a,{href:"/docs/api/server/#handlerreturnresult",children:(0,d.jsx)(n.code,{children:"HandlerReturn"})}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-10",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Params"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Receive"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Result"})]}),"\n",(0,d.jsx)(n.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,d.jsx)(n.h5,{id:"context-3",children:"context"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#streamhandlercontexttype-command-params-receive",children:(0,d.jsx)(n.code,{children:"StreamHandlerContext"})}),"<",(0,d.jsx)(n.code,{children:'"stream"'}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),">"]}),"\n",(0,d.jsx)(n.h4,{id:"returns-3",children:"Returns"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#handlerreturnresult",children:(0,d.jsx)(n.code,{children:"HandlerReturn"})}),"<",(0,d.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"streamhandlercontexttype-command-params-receive",children:"StreamHandlerContext<Type, Command, Params, Receive>"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"StreamHandlerContext"}),"<",(0,d.jsx)(n.code,{children:"Type"}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),", ",(0,d.jsx)(n.code,{children:"Receive"}),">: ",(0,d.jsx)(n.a,{href:"/docs/api/server/#requesthandlercontexttype-command-params",children:(0,d.jsx)(n.code,{children:"RequestHandlerContext"})}),"<",(0,d.jsx)(n.code,{children:"Type"}),", ",(0,d.jsx)(n.code,{children:"Command"}),", ",(0,d.jsx)(n.code,{children:"Params"}),"> & ",(0,d.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-declaration-6",children:"Type declaration"}),"\n",(0,d.jsx)(n.h5,{id:"writable",children:"writable"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"writable"}),": ",(0,d.jsx)(n.code,{children:"WritableStream"}),"<",(0,d.jsx)(n.code,{children:"Receive"}),">"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-11",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Type"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"Exclude"}),"<",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#requesttype",children:(0,d.jsx)(n.code,{children:"RequestType"})}),", ",(0,d.jsx)(n.code,{children:'"request"'}),">"]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Command"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.code,{children:"string"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Params"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Receive"})]}),"\n",(0,d.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,d.jsx)(n.h3,{id:"serve",children:"serve()"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"serve"}),"<",(0,d.jsx)(n.code,{children:"Definitions"}),">(",(0,d.jsx)(n.code,{children:"params"}),"): ",(0,d.jsx)(n.a,{href:"/docs/api/server/#server",children:(0,d.jsx)(n.code,{children:"Server"})})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"type-parameters-12",children:"Type Parameters"}),"\n",(0,d.jsxs)(n.p,{children:["\u2022 ",(0,d.jsx)(n.strong,{children:"Definitions"})," ",(0,d.jsx)(n.em,{children:"extends"})," ",(0,d.jsx)(n.a,{href:"/docs/api/protocol/#anydefinitionscommands",children:(0,d.jsx)(n.code,{children:"AnyDefinitions"})})]}),"\n",(0,d.jsx)(n.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,d.jsx)(n.h5,{id:"params-1",children:"params"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/docs/api/server/#serveparamsdefinitions",children:(0,d.jsx)(n.code,{children:"ServeParams"})}),"<",(0,d.jsx)(n.code,{children:"Definitions"}),">"]}),"\n",(0,d.jsx)(n.h4,{id:"returns-4",children:"Returns"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"/docs/api/server/#server",children:(0,d.jsx)(n.code,{children:"Server"})})})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8769:function(e,n,r){r.d(n,{Z:function(){return i},a:function(){return c}});var s=r(2379);let d={},l=s.createContext(d);function c(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);